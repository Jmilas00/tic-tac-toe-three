FROM node:20.12.2-alpine3.19 AS test

RUN mkdir /TicTacToeThreeFile /test-reports && chmod -R 777 /test-reports

WORKDIR /TicTacToeThreeFile

COPY package*.json ./

RUN npm ci

COPY . .

RUN npm run build

CMD ["npm", "run", "test"]